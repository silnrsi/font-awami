#
#	File: main.feax
#
# FEAX code for Awami Nastaliq

#	This file is part of the Awami Nastaliq font 
#	(https://software.sil.org/awami) and is 
#	Copyright (c) 2014-2024 SIL Global (https://www.sil.org/),
#	with Reserved Font Names "Awami" and "SIL".
#
#	This Font Software is licensed under the SIL Open Font License,
#	Version 1.1.
#
#	You should have received a copy of the license along with this Font Software.
#	If this is not the case, go to (https://openfontlicense.org/) for all the
#	details including an FAQ.

# This file is intended to be included in main.feax.
		
@DxMarker = [dxN200 dxN150 dxN100 dxN50 dx0 
  dx50 dx100 dx150 dx200 dx250 dx300 dx350 dx400 dx450 dx500 
  dx550 dx600 dx650 dx700 dx750 dx800 dx850 dx900 dx950 dx1000 
  dx1050 dx1100 dx1150 dx1200 dx1250 dx1300 dx1350 dx1400 dx1450 dx1500 
  dx1550 dx1600 dx1650 dx1700 dx1750 dx1800 dx1850 dx1900 dx1950 dx2000 
  dx2050 dx2100 dx2150 dx2200 dx2250 dx2300 dx2350 dx2400 dx2450 dx2500 ];
@DyMarker = [dyN300 dyN250 dyN200 dyN150 dyN100 dyN50 dy0 
  dy50 dy100 dy150 dy200 dy250 dy300 dy350 dy400 dy450 dy500 
  dy550 dy600 dy650 dy700 dy750 dy800 dy850 dy900 dy950 dy1000 
  dy1050 dy1100 dy1150 dy1200 dy1250 dy1300 dy1350 dy1400 dy1450 dy1500 
  dy1550 dy1600 dy1650 dy1700 dy1750 dy1800 dy1850 dy1900 dy1950 dy2000 
  dy2050 dy2100 dy2150 dy2200 dy2250 dy2300 dy2350 dy2400 dy2450 dy2500 ];
@PxMarker = [px0 px50 px100 px150 px200 px250 px300 px350 px400 px450 px500 
  px550 px600 px650 px700 px750 px800 px850 px900 px950 px1000 
  px1050 px1100 px1150 px1200 px1250 px1300 px1350 px1400 px1450 px1500 
  px1550 px1600 px1650 px1700 px1750 px1800 px1850 px1900 px1950 px2000 
  px2050 px2100 px2150 px2200 px2250 px2300 px2350 px2400 px2450 px2500 
  px2550 px2600 px2650 px2700 px2750 px2800 px2850 px2900 px2950 px3000 
  px3050 px3100 px3150 px3200 px3250 px3300 px3350 px3400 px3450 px3500 
  px3550 px3600 px3650 px3700 px3750 px3800 px3850 px3900 px3950 px4000 ];
@PxfMarker = [pxf0 pxf50 pxf100 pxf150 pxf200 pxf250 pxf300 pxf350 pxf400 pxf450 pxf500 
  pxf550 pxf600 pxf650 pxf700 pxf750 pxf800 pxf850 pxf900 pxf950 pxf1000 
  pxf1050 pxf1100 pxf1150 pxf1200 pxf1250 pxf1300 pxf1350 pxf1400 pxf1450 pxf1500 
  pxf1550 pxf1600 pxf1650 pxf1700 pxf1750 pxf1800 pxf1850 pxf1900 pxf1950 pxf2000 
  pxf2050 pxf2100 pxf2150 pxf2200 pxf2250 pxf2300 pxf2350 pxf2400 pxf2450 pxf2500 
  pxf2550 pxf2600 pxf2650 pxf2700 pxf2750 pxf2800 pxf2850 pxf2900 pxf2950 pxf3000 ];
@PyMarker = [py0 py50 py100 py150 py200 py250 py300 py350 py400 py450 py500 
  py550 py600 py650 py700 py750 py800 py850 py900 py950 py1000 
  py1050 py1100 py1150 py1200 py1250 py1300 py1350 py1400 py1450 py1500 
  py1550 py1600 py1650 py1700 py1750 py1800 py1850 py1900 py1950 py2000 
  py2050 py2100 py2150 py2200 py2250 py2300 py2350 py2400 py2450 py2500 
  py2550 py2600 py2650 py2700 py2750 py2800 py2850 py2900 py2950 py3000 ];
@AscMarker = [ascN500 ascN450 ascN400 ascN350 ascN300 ascN250 ascN200 ascN150 ascN100 ascN50 asc0 
  asc50 asc100 asc150 asc200 asc250 asc300 asc350 asc400 asc450 asc500 
  asc550 asc600 asc650 asc700 asc750 asc800 asc850 asc900 asc950 asc1000 
  asc1050 asc1100 asc1150 asc1200 asc1250 asc1300 asc1350 asc1400 asc1450 asc1500 
  asc1550 asc1600 asc1650 asc1700 asc1750 asc1800 asc1850 asc1900 asc1950 asc2000 
  asc2050 asc2100 asc2150 asc2200 asc2250 asc2300 asc2350 asc2400 asc2450 asc2500 
  asc2550 asc2600 asc2650 asc2700 asc2750 asc2800 asc2850 asc2900 asc2950 asc3000 ];
@DscMarker = [dscN1500 dscN1450 dscN1400 dscN1350 dscN1300 dscN1250 dscN1200 dscN1150 dscN1100 dscN1050 dscN1000 
  dscN950 dscN900 dscN850 dscN800 dscN750 dscN700 dscN650 dscN600 dscN550 dscN500 
  dscN450 dscN400 dscN350 dscN300 dscN250 dscN200 dscN150 dscN100 dscN50 dsc0 
  dsc50 dsc100 dsc150 dsc200 dsc250 dsc300 dsc350 dsc400 dsc450 dsc500 
  dsc550 dsc600 dsc650 dsc700 dsc750 dsc800 dsc850 dsc900 dsc950 dsc1000 
  dsc1050 dsc1100 dsc1150 dsc1200 dsc1250 dsc1300 dsc1350 dsc1400 dsc1450 dsc1500 
  dsc1550 dsc1600 dsc1650 dsc1700 dsc1750 dsc1800 dsc1850 dsc1900 dsc1950 dsc2000 ];
@AscXMarker = [ascx600 ascx700 ascx950 ascx1050 ascx1500];
@DscXMarker = [dscx600 dscx700 dscx950 dscx1050];
@YtMarker = [yt0 yt50 yt100 yt150 yt200 yt250 yt300 yt350 yt400 yt450 yt500 
  yt550 yt600 yt650 yt700 yt750 yt800 yt850 yt900 yt950 yt1000 
  yt1050 yt1100 yt1150 yt1200 yt1250 yt1300 yt1350 yt1400 yt1450 yt1500 
  yt1550 yt1600 yt1650 yt1700 yt1750 yt1800 yt1850 yt1900 yt1950 yt2000 
  yt2050 yt2100 yt2150 yt2200 yt2250 yt2300 yt2350 yt2400 yt2450 yt2500 
  yt2550 yt2600 yt2650 yt2700 yt2750 yt2800 yt2850 yt2900 yt2950 yt3000 ];
@YbMarker = [ybN1500 ybN1450 ybN1400 ybN1350 ybN1300 ybN1250 ybN1200 ybN1150 ybN1100 ybN1050
  ybN1000 ybN700
  ybN500 ybN450 ybN400
  yb0 yb50 yb100 yb150 yb200 yb250 yb300 yb350 yb400 yb450 yb500 
  yb550 yb600 yb650 yb700 yb750 yb800 yb850 yb900 yb950 yb1000 
  yb1050 yb1100 yb1150 yb1200 yb1250 yb1300 yb1350 yb1400 yb1450 yb1500 
  yb1550 yb1600 yb1650 yb1700 yb1750 yb1800 yb1850 yb1900 yb1950 yb2000 
  yb2050 yb2100 yb2150 yb2200 yb2250 yb2300 yb2350 yb2400 yb2450 yb2500 
  yb2550 yb2600 yb2650 yb2700 yb2750 yb2800 yb2850 yb2900 yb2950 yb3000 ];
@YtxMarker = [ytx0 ytx50 ytx100 ytx150 ytx200 ytx250 ytx300 ytx350 ytx400 ytx450 ytx500 
  ytx550 ytx600 ytx650 ytx700 ytx750 ytx800 ytx850 ytx900 ytx950 ytx1000 
  ytx1050 ytx1100 ytx1150 ytx1200 ytx1250 ytx1300 ytx1350 ytx1400 ytx1450 ytx1500 
  ytx1550 ytx1600 ytx1650 ytx1700 ytx1750 ytx1800 ytx1850 ytx1900 ytx1950 ytx2000 
  ytx2050 ytx2100 ytx2150 ytx2200 ytx2250 ytx2300 ytx2350 ytx2400 ytx2450 ytx2500 
  ytx2550 ytx2600 ytx2650 ytx2700 ytx2750 ytx2800 ytx2850 ytx2900 ytx2950 ytx3000 ];
@YbxMarker = [ybx0 ybx50 ybx100 ybx150 ybx200 ybx250 ybx300 ybx350 ybx400 ybx450 ybx500 
  ybx550 ybx600 ybx650 ybx700 ybx750 ybx800 ybx850 ybx900 ybx950 ybx1000 
  ybx1050 ybx1100 ybx1150 ybx1200 ybx1250 ybx1300 ybx1350 ybx1400 ybx1450 ybx1500 
  ybx1550 ybx1600 ybx1650 ybx1700 ybx1750 ybx1800 ybx1850 ybx1900 ybx1950 ybx2000 
  ybx2050 ybx2100 ybx2150 ybx2200 ybx2250 ybx2300 ybx2350 ybx2400 ybx2450 ybx2500 
  ybx2550 ybx2600 ybx2650 ybx2700 ybx2750 ybx2800 ybx2850 ybx2900 ybx2950 ybx3000 ];

@XMarkers = [@PxMarker @DxMarker pxNULL];
@XfMarkers = [@PxfMarker @DxMarker pxfNULL];
@YMarkers = [@PyMarker @DyMarker pyNULL];


lookup MarkersYtb2AscDsc {
	sub yt0 by asc0;
	sub yt50 by asc50;
	sub yt100 by asc100;
	sub yt150 by asc150;
	sub yt200 by asc200;
	sub yt250 by asc250;	
	sub yt300 by asc300;
	sub yt350 by asc350;
	sub yt400 by asc400;
	sub yt450 by asc450;
	sub yt500 by asc500;
	sub yt550 by asc550;
	sub yt600 by asc600;
	sub yt650 by asc650;
	sub yt700 by asc700;
	sub yt750 by asc750;
	sub yt800 by asc800;
	sub yt850 by asc850;
	sub yt900 by asc900;
	sub yt950 by asc950;
	sub yt1000 by asc1000;
	sub yt1050 by asc1050;
	sub yt1100 by asc1100;
	sub yt1150 by asc1150;
	sub yt1200 by asc1200;
	sub yt1250 by asc1250;
	sub yt1300 by asc1300;
	sub yt1350 by asc1350;
	sub yt1400 by asc1400;
	sub yt1450 by asc1450;
	sub yt1500 by asc1500;
	sub yt1550 by asc1550;
	sub yt1600 by asc1600;
	sub yt1650 by asc1650;
	sub yt1700 by asc1700;
	sub yt1750 by asc1750;
	sub yt1800 by asc1800;
	sub yt1850 by asc1850;
	sub yt1900 by asc1900;
	sub yt1950 by asc1950;
	sub yt2000 by asc2000;
	sub yt2050 by asc2050;
	sub yt2100 by asc2100;
	sub yt2150 by asc2150;
	sub yt2200 by asc2200;
	sub yt2250 by asc2250;
	sub yt2300 by asc2300;
	sub yt2350 by asc2350;
	sub yt2400 by asc2400;
	sub yt2450 by asc2450;
	sub yt2500 by asc2500;
	sub yt2550 by asc2550;
	sub yt2600 by asc2600;
	sub yt2650 by asc2650;
	sub yt2700 by asc2700;
	sub yt2750 by asc2750;
	sub yt2800 by asc2800;
	sub yt2850 by asc2850;
	sub yt2900 by asc2900;
	sub yt2950 by asc2950;
	sub yt3000 by asc3000;
	sub ybN700 by dscN700;
	sub yb0 by dsc0;
	sub yb50 by dsc50;
	sub yb100 by dsc100;
	sub yb150 by dsc150;
	sub yb200 by dsc200;
	sub yb250 by dsc250;	
	sub yb300 by dsc300;
	sub yb350 by dsc350;
	sub yb400 by dsc400;
	sub yb450 by dsc450;
	sub yb500 by dsc500;
	sub yb550 by dsc550;
	sub yb600 by dsc600;
	sub yb650 by dsc650;
	sub yb700 by dsc700;
	sub yb750 by dsc750;
	sub yb800 by dsc800;
	sub yb850 by dsc850;
	sub yb900 by dsc900;
	sub yb950 by dsc950;
	sub yb1000 by dsc1000;
	sub yb1050 by dsc1050;
	sub yb1100 by dsc1100;
	sub yb1150 by dsc1150;
	sub yb1200 by dsc1200;
	sub yb1250 by dsc1250;
	sub yb1300 by dsc1300;
	sub yb1350 by dsc1350;
	sub yb1400 by dsc1400;
	sub yb1450 by dsc1450;
	sub yb1500 by dsc1500;
	sub yb1550 by dsc1550;
	sub yb1600 by dsc1600;
	sub yb1650 by dsc1650;
	sub yb1700 by dsc1700;
	sub yb1750 by dsc1750;
	sub yb1800 by dsc1800;
	sub yb1850 by dsc1850;
	sub yb1900 by dsc1900;
	sub yb1950 by dsc1950;
	sub yb2000 by dsc2000;
} MarkersYtb2AscDsc;

# lookup _DelNull {
# 	sub pxNULL @DxMarker by @DxMarker;
# 	sub pyNULL @DyMarker by @DyMarker;
# } _DelNull;


lookup _SetN1050 {
	#sub @AscMarker	by	ytN1050;
	sub	@DscMarker	by	ybN1050;
} _SetN1050;

lookup _SetN700 {
	sub @DscMarker	by	ybN700;
} _SetN700;

lookup _SetN150 {
	#sub @AscMarker	by	ytN150;
	sub	@DscMarker	by	ybN150;
} _SetN150;

lookup _SetN100 {
	#sub @AscMarker	by	ytN100;
	sub	@DscMarker	by	ybN100;
} _SetN100;

lookup _Set0 {
	sub pxNULL by px0;
	sub pyNULL by py0;
} _Set0;

lookup _Set50 {
	sub pxNULL	by	px50;
	sub pyNULL	by	py50;
} _Set50;

lookup _Set100 {
	sub pxNULL	by	px100;
	sub pyNULL	by	py100;
} _Set100;

lookup _Set150 {
	sub pxNULL	by	px150;
	sub pyNULL	by	py150;
} _Set150;

lookup _Set750 {
	sub pxNULL	by	px750;
	sub	pyNULL	by	py750;
} _Set750;

lookup _Set800 {
	sub pxNULL	by	px800;
	sub pyNULL	by	py800;
	sub @AscMarker	by	yt800;
	sub @YtMarker	by	yt800;
	sub @DscMarker	by	yb800;
	sub @YbMarker	by	yb800;
	# sub @YtxMarker	by	yt800;
	# sub @YbxMarker	by	yb800;
} _Set800;

lookup _Set900 {
	sub @YtMarker	by	yt900;
	sub @YbMarker	by	yb900;
	# sub @YtxMarker	by	yt900;
	# sub @YbxMarker	by	yb900;
} _Set900;

lookup _Set1000 {
	sub pxNULL	by	px1000;
	sub pyNULL	by	py1000;
} _Set1000;

lookup _Set1050 {
	sub pxNULL	by	px1050;
	sub pyNULL	by	py1050;
	sub @AscMarker  by  yt1050;
	sub @DscMarker  by  yb1050;
} _Set1050;

lookup _Set1100 {
	sub pxNULL	by	px1100;
	sub pyNULL	by	py1100;
} _Set1100;

lookup _Set1150 {
	sub pxNULL	by	px1150;
	sub pyNULL	by	py1150;
} _Set1150;

lookup _Set1250 {
	sub @DscMarker  by  yb1250;
	sub @YbMarker	by	yb1250;
} _Set1250;

lookup _Set1300 {
	sub pxNULL	by	px1300;
	sub pyNULL	by	py1300;
} _Set1300;

lookup _Set1350 {
	sub pxNULL	by	px1350;
	sub pyNULL	by	py1350;
	sub @AscMarker	by	yt1350;
	sub @YtMarker	by	yt1350;
	sub @DscMarker	by	yb1350;
	sub @YbMarker	by	yb1350;
	# sub @YtxMarker	by	yt1350;
	# sub @YbxMarker	by	yb1350;
} _Set1350;

lookup _Set1400 {
	sub pxNULL	by	px1400;
	sub pyNULL	by	py1400;
} _Set1400;

lookup _Set1500 {
	sub pxNULL	by	px1500;
	sub pyNULL	by	py1500;
	sub @AscMarker	by	yt1500;
	sub @DscMarker	by	yb1500;
	# sub @YtxMarker	by	yt1500;
	# sub @YbxMarker	by	yb1500;
} _Set1500;

lookup _Set1550 {
	sub pxNULL	by	px1550;
	sub pyNULL	by	py1550;
	sub @AscMarker	by	yt1550;
	sub @DscMarker	by	yb1550;
	# sub @YtxMarker	by	yt1550;
	# sub @YbxMarker	by	yb1550;
} _Set1550;

lookup _Set1750 {
	sub pxNULL	by	px1750;
	sub pyNULL	by	py1750;
	sub @AscMarker	by	yt1750;
	sub @DscMarker	by	yb1750;
	# sub @YtxMarker	by	yt1750;
	# sub @YbxMarker	by	yb1750;
} _Set1750;

lookup _Set1800 {
	sub @AscMarker	by	yt1800;
	sub @DscMarker	by	yb1800;
} _Set1800;

lookup _Set1950 {
	sub pxNULL	by	px1950;
	sub pyNULL	by	py1950;
	sub @AscMarker	by	yt1950;
	sub @DscMarker	by	yb1950;
	# sub @YtxMarker	by	yt1950;
	# sub @YbxMarker	by	yb1950;
} _Set1950;

lookup _Set2000 {
	sub pxNULL	by	px2000;
	sub pyNULL	by	py2000;
} _Set2000;

lookup _Set2050 {
	sub pxNULL	by	px2050;
	sub pyNULL	by	py2050;
	sub @AscMarker	by	yt2050;
	#sub @DscMarker	by	yb2050;
	# sub @YtxMarker	by	yt2050;
	# sub @YbxMarker	by 	yb2050;
} _Set2050;

lookup _Set2100 {
	sub pxNULL	by	px2100;
	sub pyNULL	by	py2100;
} _Set2100;

lookup _Set2150 {
	sub pxNULL	by	px2150;
	sub pyNULL	by	py2150;
} _Set2150;

lookup _Set2200 {
	sub pxNULL	by	px2200;
	sub pyNULL	by	py2200;
	sub @AscMarker	by	yt2200;
	sub @DscMarker	by	yb2200;
	# sub @YtxMarker	by	yt2200;
	# sub @YbxMarker	by	yb2200;
} _Set2200;

lookup _Set2300 {
	sub pxNULL	by	px2300;
	sub pyNULL	by	py2300;
} _Set2300;

lookup _Set2350 {
	sub pxNULL	by	px2350;
	sub pyNULL	by	py2350;
} _Set2350;

lookup _Set2450 {
	sub @AscMarker	by	yt2450;
	sub @DscMarker	by	yb2450;
	# sub @YtxMarker	by	yt2450;
	# sub @YbxMarker	by	yb2450;
} _Set2450;

lookup _Set2500 {
	sub pxNULL	by	px2500;
	sub pyNULL	by	py2500;
} _Set2500;

lookup _Set2600 {
	sub @AscMarker	by	yt2600;
	# sub @YtxMarker	by	yt2600;
	# sub @YbxMarker	by	yb2600;
} _Set2600;

lookup _Set2700 {
	sub pxNULL	by	px2700;
	sub pyNULL	by	py2700;
	sub @AscMarker	by	yt2700;
	# sub @YtxMarker	by	yt2700;
	# sub @YbxMarker	by	yb2700;
} _Set2700;

lookup _Set2750 {
	sub @AscMarker	by	yt2750;
	#sub @DscMarker	by	yb2750;
	# sub @YtxMarker	by	yt2750;
	# sub @YbxMarker	by	yb2750;
} _Set2750;

lookup _Set2850 {
	sub @AscMarker	by	yt2850;
	# sub @YtxMarker	by	yt2850;
	# sub @YbxMarker	by	yb2850;
} _Set2850;

lookup _Set2900 {
	sub @AscMarker	by	yt2900;
} _Set2900;

lookup _Set3000 {
	sub @AscMarker	by	yt3000;
} _Set3000;

lookup _Set3150 {
	sub pxNULL	by	px3150;
#	sub pyNULL	by	py3150; -- not supported
} _Set3150;

lookup _Set3250 {
	sub pxNULL	by	px3250;
#	sub pyNULL	by	py3250;	-- not supported
} _Set3250;

#-----

lookup _PosPlusX50 {
	lookupflag UseMarkFilteringSet @XMarkers;
	sub pxNULL' lookup _Set100		dx50';
	sub pxNULL' lookup _Set150		dx100';
} _PosPlusX50;

lookup _PosPlusX700 {
	lookupflag UseMarkFilteringSet @XMarkers;
	sub pxNULL' lookup _Set750		dx50';
	sub pxNULL'	lookup _Set800		dx100';
	sub pxNULL'	lookup _Set1100		dx400';
} _PosPlusX700;

lookup _PosPlusX950 {
	lookupflag UseMarkFilteringSet @XMarkers;
	sub pxNULL' lookup _Set1000		dx50';
	sub pxNULL'	lookup _Set1050		dx100';
	sub pxNULL'	lookup _Set2000		dx1050';
} _PosPlusX950;

lookup _PosPlusX1050 {
	lookupflag UseMarkFilteringSet @XMarkers;
	sub pxNULL' lookup _Set1150		dx100';
	sub pxNULL'	lookup _Set2000		dx950';
} _PosPlusX1050;

lookup _PosPlusX1100 {
	lookupflag UseMarkFilteringSet @XMarkers;
	sub pxNULL' lookup _Set1300		dx200';
} _PosPlusX1100;

lookup _PosPlusX1250 {
	lookupflag UseMarkFilteringSet @XMarkers;
	sub pxNULL' lookup _Set1350	dx100';
	sub pxNULL'	lookup _Set1400	dx150';
	sub pxNULL' lookup _Set2200	dx950';
} _PosPlusX1250;

lookup _PosPlusX1300 {
	lookupflag UseMarkFilteringSet @XMarkers;
	sub pxNULL' lookup _Set2100		dx800';
} _PosPlusX1300;

lookup _PosPlusX2200 {
	lookupflag UseMarkFilteringSet @XMarkers;
	sub pxNULL' lookup _Set2300		dx100';
	sub pxNULL'	lookup _Set2350		dx150';
	sub pxNULL'	lookup _Set3150		dx950';
	sub pxNULL' lookup _Set3250		dx1050';
} _PosPlusX2200;

#---

lookup _PosPlusY0 {
	lookupflag UseMarkFilteringSet @YMarkers;
	sub pyNULL' lookup _Set1500		dy1500;
} _PosPlusY0;

lookup _PosPlusY500 {
	lookupflag UseMarkFilteringSet @YMarkers;
	sub pyNULL' lookup _Set1500		dy1000;
} _PosPlusY500;

lookup _PosPlusY1500 {
	lookupflag UseMarkFilteringSet @YMarkers;
	sub pyNULL' lookup _Set1500		dy0;
	sub pyNULL' lookup _Set1550		dy50;
	sub pyNULL' lookup _Set1750		dy250;
	sub pyNULL' lookup _Set1950		dy450;
} _PosPlusY1500;

lookup _PosPlusY1550 {
	lookupflag UseMarkFilteringSet @YMarkers;
	sub pyNULL' lookup _Set2050		dy500;
} _PosPlusY1550;

lookup _PosPlusY1750 {
	lookupflag UseMarkFilteringSet @YMarkers;
	sub pyNULL' lookup _Set1950		dy200;
} _PosPlusY1750;

lookup _PosPlusY1950 {
	lookupflag UseMarkFilteringSet @YMarkers;
	sub pyNULL' lookup _Set2500		dy550;
} _PosPlusY1950;

#---

lookup _PosPlusXf0 {
	lookupflag UseMarkFilteringSet @XMarkers;
	sub dx800	pxNULL' lookup _Set800;
} _PosPlusXf0;

lookup _PosPlusXf50 {
	lookupflag UseMarkFilteringSet @XMarkers;
	sub dx50	pxNULL' lookup _Set100;
} _PosPlusXf50;

lookup _PosPlusXf100 {
	lookupflag UseMarkFilteringSet @XMarkers;
	sub dx50	pxNULL' lookup _Set150;
} _PosPlusXf100;

lookup _PosPlusXf800 {
	lookupflag UseMarkFilteringSet @XMarkers;
	sub dx200	pxNULL' lookup _Set1000;
} _PosPlusXf800;

#---

lookup _HtPlus0 {
	sub asc1800'  lookup _Set1800;
	sub asc2750'  lookup _Set2750;
	# ignore the dsc value - this is a final and nothing can fit under it
} _HtPlus0;

lookup _HtPlus1500 {
	sub asc950'  lookup _Set2450;

	sub dscN150' lookup _Set1350;
} _HtPlus1500;

lookup _HtPlus1950 {
	sub asc900'  lookup _Set2850;
	sub asc950'  lookup _Set2900;

	sub dscN700' lookup _Set1250;
	sub dscN150' lookup _Set1800;
	sub dsc250'  lookup _Set2200;
} _HtPlus1950;

lookup _HtPlus2500 {
	sub asc100' lookup _Set2600;
	sub asc900' lookup _Set3000;

	sub dsc250' lookup _Set2750;
} _HtPlus2500;

#---

# Measuring backwards, set the x-position of this glyph's entry based
# on the following glyph's entry and this glyph's advance.
lookup _AddMarkersX {
	lookupflag UseMarkFilteringSet @XMarkers;
	sub pxNULL' lookup _PosPlusX50			@DxMarker	px50;
	sub pxNULL'	lookup _PosPlusX700			@DxMarker	px700;
	sub pxNULL'	lookup _PosPlusX950			@DxMarker	px950;
	sub pxNULL'	lookup _PosPlusX1050		@DxMarker	px1050;
	sub pxNULL' lookup _PosPlusX1100		@DxMarker	px1100;
	sub pxNULL'	lookup _PosPlusX1250		@DxMarker	px1250;
	sub pxNULL' lookup _PosPlusX1300		@DxMarker	px1300;
	sub pxNULL'	lookup _PosPlusX2200		@DxMarker	px2200;
} _AddMarkersX;

# Measuring forward, set this glyph's x-position based on the previous glyph's
# x-position and advance.
lookup _AddMarkersXforward {
	lookupflag UseMarkFilteringSet @XMarkers;
	sub px0		@DxMarker	pxfNULL' lookup _PosPlusXf0;
	sub px50	@DxMarker	pxfNULL' lookup _PosPlusXf50;
	sub px800	@DxMarker	pxfNULL' lookup _PosPlusXf800;
} _AddMarkersXforward;


# Set the y-position of this glyph's exit based on the previous glyph's y-position and rise.
# Note that the @DyMarker belongs to the previous glyph.
# Input stream: @pyNULL <marks> @MeasureBaseMark @PxMarker @PxfMarker @DyMarker @PyMarker @DscMarker @DscMarker ... @AscMarker @AscMarker 
lookup _AddMarkersY {
	lookupflag UseMarkFilteringSet @YMarkers;
	sub pyNULL' lookup _PosPlusY0		@DyMarker	py0;
	sub pyNULL' lookup _PosPlusY500		@DyMarker	py500;
	sub pyNULL'	lookup _PosPlusY1500	@DyMarker	py1500;
	sub pyNULL' lookup _PosPlusY1550	@DyMarker	py1550;
	sub pyNULL' lookup _PosPlusY1750	@DyMarker	py1750;
	sub pyNULL' lookup _PosPlusY1950	@DyMarker	py1950;
} _AddMarkersY;


lookup _AddNuqtaHt600 {
	sub asc500'	lookup _Set1100;
} _AddNuqtaHt600;

lookup _AddNuqtaHt950 {
	sub asc1550' lookup _Set2500;
	sub asc1800' lookup _Set2750;
} _AddNuqtaHt950;

lookup _SubtractNuqtaHt600 {
	sub dsc2000' lookup _Set1400;
	#sub dsc2100' lookup _Set1500;
} _SubtractNuqtaHt600;

lookup _SubtractNuqtaHt950 {
	sub dsc1000' lookup _Set50;
	sub dsc2000' lookup _Set1050;
	sub dsc250'  lookup _SetN700;
	#sub dsc2750' lookup _Set1800;
	#sub dsc2200' lookup _Set1250;
} _SubtractNuqtaHt950;


# Adjust the absolute top and bottom base on the presence of nuqtas and/or diacritics.
# We can't use YtMarker because the already processed YtMarkers will get in the way.
lookup _AddNuqtaUpperHt {
	lookupflag UseMarkFilteringSet [@AscMarker @AscXMarker];
	sub ascx600		@AscMarker' lookup _AddNuqtaHt600;
	sub ascx950		@AscMarker' lookup _AddNuqtaHt950;
} _AddNuqtaUpperHt;

lookup _SubtractNuqtaLowerHt {
	lookupflag UseMarkFilteringSet [@DscMarker @DscXMarker];
	sub dscx600		@DscMarker' lookup _SubtractNuqtaHt600;
	sub dscx950		@DscMarker' lookup _SubtractNuqtaHt950;
} _SubtractNuqtaLowerHt;

# Input stream: @MeasureBaseMarker @PxMarker @PxfMarker @DyMarker @PyMarker @DscXMarker @AscXMarker @DscMarker @DscMarker ... @AscMarker @AscMarker <MARKS>
lookup _MakeAscAbsolute {
	lookupflag UseMarkFilteringSet  [@PyMarker @AscMarker];
	sub py0			@AscMarker'	lookup _HtPlus0;
	sub py1500		@AscMarker' lookup _HtPlus1500;
	sub py1950		@AscMarker' lookup _HtPlus1950;
	sub py2500		@AscMarker' lookup _HtPlus2500;
} _MakeAscAbsolute;

lookup _MakeDscAbsolute {
	lookupflag UseMarkFilteringSet  [@PyMarker @DscMarker];
	sub py0			@DscMarker' lookup _HtPlus0;
	sub py1500		@DscMarker' lookup _HtPlus1500;
	sub py1950		@DscMarker' lookup _HtPlus1950;
	sub py2500		@DscMarker' lookup _HtPlus2500;
} _MakeDscAbsolute;


# lookup _InitPosX {
# 	lookupflag UseMarkFilteringSet @XMarkers;
# 	sub pxNULL' dx100	by  px100;
# 	sub pxNULL' dx200	by  px200;
# 	sub pxNULL' dx400	by  px400;
# 	sub pxNULL' dx700	by  px700;
# 	sub pxNULL'	dx1000	by	px1000;
# 	sub pxNULL'	dx1250	by	px1250;
# 	sub pxNULL' dx2250	by	px2250;
# } _InitPosX;

# lookup _InitPosY {
# 	lookupflag UseMarkFilteringSet @YMarkers;
# 	sub pyNULL'	dy500	by	py500;
# 	sub pyNULL'	dy1000	by	py1000;
# 	sub pyNULL'	dy1500	by	py1500;
# } _InitPosY;

#---

# lookup _AddAsc400 {
# 	sub yt1550'	lookup _Set1950;
# } _AddAsc400;

# lookup _AddAsc900 {
# 	sub yt1800'	lookup _Set2700;
# } _AddAsc900;


# lookup _SubtractDsc400 {
# 	sub yb300' 	lookup _SetN100;
# } _SubtractDsc400;

# lookup _SubtractDsc600 {
# 	sub yb450' 	lookup _SetN150;
# 	#sub ybN450'	lookup _SetN1050;
# } _SubtractDsc600;

# lookup _SubtractDsc900 {
# 	sub yb1700'	lookup _Set800;
# } _SubtractDsc900;

#---

